---
- hosts: all
  become: true
  become_user: root
  become_method: su

  roles:
    ##
    # Basic setup
    ##
    - apt
    - update
    - vim_alternative
    - dotfiles
    - postfix
    - rsyslog
    - ssh
    - sudo
    - pam
    - groups
    - ntp
    - sysctl
    - grub
    - fstrim
    - fail2ban
    - firewall

    ##
    # Microcode
    ##
    - intel_cpu
    - amd_cpu
    
    ##
    # Desktop related packages
    ##
    - xorg
    - intel_graphics
    - amd_graphics
    - xfce
    - software
    - fontconfig

    ##
    # laptop specific packages
    ##
    - laptop

    ##
    # Additional packages
    ##
    - additional_software

    ##
    # Virtualization packages
    ##
    - virt
    
    ##
    # LXC packages
    ##
    - lxc

    ##
    # Gaming
    ##
    - retro_gaming
    - wine
    - steam

    ##
    # External packages
    ##
    - ansible
    - docker
    - vscodium
    - virtualbox

    ##
    # Rebooting the system
    ##
    - reboot
